2025-06-08 15:48:08,633 - INFO - 🎸 Fred again.. 数据收集和导入开始
2025-06-08 15:48:08,633 - INFO - ============================================================
2025-06-08 15:48:08,633 - INFO - 🎤 开始收集和导入 Fred again.. 的数据...
2025-06-08 15:48:09,123 - INFO - Supabase client initialized successfully
2025-06-08 15:48:09,143 - ERROR - ❌ Fred again.. 数据收集和导入失败: cannot import name 'database_service' from 'services.database_service' (/Users/yueying/Desktop/vibe_coding/0518_fujirock/services/database_service.py)
2025-06-08 15:48:09,143 - ERROR - 
❌ Fred again.. 数据导入失败: cannot import name 'database_service' from 'services.database_service' (/Users/yueying/Desktop/vibe_coding/0518_fujirock/services/database_service.py)
2025-06-08 15:48:09,143 - INFO - 🎸 Fred again.. 数据收集和导入完成！
2025-06-08 15:48:34,121 - INFO - 🎸 Fred again.. 数据收集和导入开始
2025-06-08 15:48:34,122 - INFO - ============================================================
2025-06-08 15:48:34,122 - INFO - 🎤 开始收集和导入 Fred again.. 的数据...
2025-06-08 15:48:34,521 - INFO - Supabase client initialized successfully
2025-06-08 15:48:34,545 - INFO - 🔗 测试数据库连接...
2025-06-08 15:48:36,057 - INFO - HTTP Request: GET https://cvhgmpssjbdjpkqcvsui.supabase.co/rest/v1/artists?select=id&limit=1 "HTTP/2 206 Partial Content"
2025-06-08 15:48:36,058 - INFO - ✅ 数据库连接正常
2025-06-08 15:48:36,059 - INFO - 📖 获取 Wikipedia 数据...
2025-06-08 15:48:36,059 - INFO - Attempting to fetch real Wikipedia data for Fred again..
2025-06-08 15:48:36,059 - INFO - Using REAL Wikipedia API for Fred again.. in zh
2025-06-08 15:48:39,032 - INFO - HTTP Request: GET https://zh.wikipedia.org/api/rest_v1/page/summary/Fred%20again.. "HTTP/1.1 404 Not Found"
2025-06-08 15:48:39,033 - WARNING - Failed to fetch real Wikipedia data for Fred again..: 
2025-06-08 15:48:39,033 - INFO - Falling back to mock data for Fred again..
2025-06-08 15:48:39,033 - INFO - Using MOCK Wikipedia API for Fred again..
2025-06-08 15:48:39,035 - INFO - ✅ Wikipedia 数据收集成功
2025-06-08 15:48:40,036 - INFO - 🎧 获取 Spotify 数据...
2025-06-08 15:48:40,774 - INFO - HTTP Request: POST https://accounts.spotify.com/api/token "HTTP/1.1 200 OK"
2025-06-08 15:48:41,673 - INFO - HTTP Request: GET https://api.spotify.com/v1/search?q=Fred+again..&type=artist&limit=1&market=JP "HTTP/1.1 200 OK"
2025-06-08 15:48:41,675 - INFO - Using REAL Spotify API for artist 4oLeXFyACqeem2VImYeBFe
2025-06-08 15:48:46,578 - INFO - HTTP Request: GET https://api.spotify.com/v1/artists/4oLeXFyACqeem2VImYeBFe "HTTP/1.1 200 OK"
2025-06-08 15:48:47,583 - INFO - Using REAL Spotify API for tracks of 4oLeXFyACqeem2VImYeBFe
2025-06-08 15:48:48,329 - INFO - HTTP Request: GET https://api.spotify.com/v1/artists/4oLeXFyACqeem2VImYeBFe/top-tracks?market=JP "HTTP/1.1 200 OK"
2025-06-08 15:48:48,331 - INFO - ✅ Spotify 数据收集成功
2025-06-08 15:48:49,332 - INFO - 📝 创建艺术家记录...
2025-06-08 15:48:49,332 - ERROR - Error creating artist: 'dict' object has no attribute 'name'
2025-06-08 15:48:51,423 - INFO - HTTP Request: GET https://cvhgmpssjbdjpkqcvsui.supabase.co/rest/v1/artists?select=%2A&or=%28name.ilike.%25Fred+again..%25%2Cname_zh.ilike.%25Fred+again..%25%2Cname_en.ilike.%25Fred+again..%25%2Cname_ja.ilike.%25Fred+again..%25%2Cdescription.ilike.%25Fred+again..%25%29&order=popularity.desc&offset=0&limit=10 "HTTP/2 400 Bad Request"
2025-06-08 15:48:51,424 - ERROR - Error searching artists: {'message': 'column artists.name_zh does not exist', 'code': '42703', 'hint': 'Perhaps you meant to reference the column "artists.name".', 'details': None}
2025-06-08 15:48:51,424 - ERROR - ❌ 艺术家记录创建失败: 'dict' object has no attribute 'name'
2025-06-08 15:50:54,637 - INFO - 🎸 Fred again.. 数据收集和导入开始
2025-06-08 15:50:54,638 - INFO - ============================================================
2025-06-08 15:50:54,638 - INFO - 🎤 开始收集和导入 Fred again.. 的数据...
2025-06-08 15:50:55,033 - INFO - Supabase client initialized successfully
2025-06-08 15:50:55,054 - INFO - 🔗 测试数据库连接...
2025-06-08 15:50:57,887 - INFO - HTTP Request: GET https://cvhgmpssjbdjpkqcvsui.supabase.co/rest/v1/artists?select=id&limit=1 "HTTP/2 206 Partial Content"
2025-06-08 15:50:57,893 - INFO - ✅ 数据库连接正常
2025-06-08 15:50:57,893 - INFO - 📖 获取 Wikipedia 数据...
2025-06-08 15:50:57,893 - INFO - Attempting to fetch real Wikipedia data for Fred again..
2025-06-08 15:50:57,894 - INFO - Using REAL Wikipedia API for Fred again.. in zh
2025-06-08 15:50:59,717 - INFO - HTTP Request: GET https://zh.wikipedia.org/api/rest_v1/page/summary/Fred%20again.. "HTTP/1.1 404 Not Found"
2025-06-08 15:50:59,717 - WARNING - Failed to fetch real Wikipedia data for Fred again..: 
2025-06-08 15:50:59,717 - INFO - Falling back to mock data for Fred again..
2025-06-08 15:50:59,717 - INFO - Using MOCK Wikipedia API for Fred again..
2025-06-08 15:50:59,719 - INFO - ✅ Wikipedia 数据收集成功
2025-06-08 15:51:00,720 - INFO - 🎧 获取 Spotify 数据...
2025-06-08 15:51:01,297 - INFO - HTTP Request: POST https://accounts.spotify.com/api/token "HTTP/1.1 200 OK"
2025-06-08 15:51:02,575 - INFO - HTTP Request: GET https://api.spotify.com/v1/search?q=Fred+again..&type=artist&limit=1&market=JP "HTTP/1.1 200 OK"
2025-06-08 15:51:02,577 - INFO - Using REAL Spotify API for artist 4oLeXFyACqeem2VImYeBFe
2025-06-08 15:51:03,970 - INFO - HTTP Request: GET https://api.spotify.com/v1/artists/4oLeXFyACqeem2VImYeBFe "HTTP/1.1 200 OK"
2025-06-08 15:51:04,975 - INFO - Using REAL Spotify API for tracks of 4oLeXFyACqeem2VImYeBFe
2025-06-08 15:51:06,088 - INFO - HTTP Request: GET https://api.spotify.com/v1/artists/4oLeXFyACqeem2VImYeBFe/top-tracks?market=JP "HTTP/1.1 200 OK"
2025-06-08 15:51:06,217 - INFO - ✅ Spotify 数据收集成功
2025-06-08 15:51:07,218 - INFO - 📝 创建艺术家记录...
2025-06-08 15:51:08,866 - INFO - HTTP Request: GET https://cvhgmpssjbdjpkqcvsui.supabase.co/rest/v1/artists?select=%2A&name=eq.Fred+again..&limit=1 "HTTP/2 200 OK"
2025-06-08 15:51:10,479 - INFO - HTTP Request: POST https://cvhgmpssjbdjpkqcvsui.supabase.co/rest/v1/artists "HTTP/2 201 Created"
2025-06-08 15:51:10,480 - INFO - Artist created successfully: Fred again..
2025-06-08 15:51:10,480 - INFO - ✅ 艺术家记录创建成功 (ID: 1dfc9307-9078-4963-ad5a-33284e040c30)
2025-06-08 15:51:10,480 - INFO - 🎵 导入热门歌曲...
2025-06-08 15:51:10,480 - ERROR - Error batch creating songs: 'dict' object has no attribute 'artist_id'
2025-06-08 15:51:10,480 - WARNING - ⚠️ 歌曲导入失败: 'dict' object has no attribute 'artist_id'
2025-06-08 15:51:10,480 - INFO - 🤖 生成 AI 描述...
2025-06-08 15:51:10,481 - INFO - Using REAL DeepSeek AI API with model: deepseek-r1-250120, intensity: 7
2025-06-08 15:51:35,380 - INFO - HTTP Request: POST https://ark.cn-beijing.volces.com/api/v3/chat/completions "HTTP/1.1 200 OK"
2025-06-08 15:51:35,383 - ERROR - ❌ AI 描述生成失败: 'AIDescriptionDatabaseService' object has no attribute 'create_description'
2025-06-08 15:51:35,383 - INFO - 🎉 Fred again.. 数据收集和导入完成！
2025-06-08 15:51:35,383 - INFO - 📊 艺术家 ID: 1dfc9307-9078-4963-ad5a-33284e040c30
2025-06-08 15:51:35,383 - INFO - 
✅ 成功完成 Fred again.. 数据导入！
2025-06-08 15:51:35,383 - INFO - 🆔 艺术家 ID: 1dfc9307-9078-4963-ad5a-33284e040c30
2025-06-08 15:51:35,383 - INFO - 🎤 艺术家名称: Fred again..
2025-06-08 15:51:35,383 - INFO - 🎸 Fred again.. 数据收集和导入完成！
